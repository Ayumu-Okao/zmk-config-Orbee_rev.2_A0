// Orbee_R.overlay (ä¿®æ­£ç‰ˆ)

#include "Orbee.dtsi"

&default_transform {
    col-offset = <6>;
};

&kscan0 {
    // ... (ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã®ãƒãƒˆãƒªãƒƒã‚¯ã‚¹å®šç¾©) ...
};

/ {
    trackball_listener {
        compatible = "zmk,input-listener";
        device = <&trackball>;
    };

    // ğŸ’¡ å¤‰æ›´ç‚¹: PMW3610ã‚’ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«è»¸ã¨ã—ã¦å¼·åˆ¶å®šç¾©ã—ã€ã‚¨ãƒ©ãƒ¼ã‚’å›é¿ã™ã‚‹
    zmk_scroll_x_axis: zmk-scroll-x-axis {
        compatible = "zmk,scroll-axis";
        hid-usage = <0x01 0x30>; // X
        scroll-divisor = <1>;
    };

    zmk_scroll_y_axis: zmk-scroll-y-axis {
        compatible = "zmk,scroll-axis";
        hid-usage = <0x01 0x31>; // Y
        scroll-divisor = <1>;
    };
    
    zmk_pointer_axes {
        compatible = "zmk,pointer-axes";
        // è»¸ç™»éŒ²ãƒãƒ¼ãƒ‰ã‚’ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«è»¸ã«å¤‰æ›´
        pointer-axes = <&zmk_scroll_x_axis &zmk_scroll_y_axis>;
    };
};

&pinctrl {
    // ... (pinctrl å®šç¾©) ...
};

&spi0 {
    status = "okay";
    // ... (spi0 å®šç¾©) ...

    trackball: trackball@0 {
        status = "okay";
        compatible = "pixart,pmw3610";
        reg = <0>;
        spi-max-frequency = <2000000>;

        motion-gpios = <&gpio0 2 GPIO_ACTIVE_LOW>;

        automouse-layer = <6>;
        scroll-layers = <5>;
        
        // ğŸš¨ é‡è¦ãªå†è¿½åŠ : Zephyrã®æ¨™æº–ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã®è¦ä»¶ã‚’æº€ãŸã™ãŸã‚ã€ã“ã“ã§ã¯ PMW3610 ã‚’**ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«**ã¨ã—ã¦å®šç¾©ã—ç›´ã™ã€‚
        // ZMKã¯ã“ã‚Œã‚’ãƒã‚¤ãƒ³ã‚¿ãƒ¼å…¥åŠ›ã¨ã—ã¦ä½¿ç”¨ã™ã‚‹
        zephyr,axis-x = <&zmk_scroll_x_axis>;
        zephyr,axis-y = <&zmk_scroll_y_axis>;
    };
};
